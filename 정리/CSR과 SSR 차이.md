# CSR

사이트에 접속하면 브라우저가 웹서버에 html문서를 요청하고 웹서버는 응답으로 빈 html과 여러 static파일들을 넘겨줍니다. 여러 static 파일들이 로드된 이후에 데이터를 요청해서 받아오는 방식으로 진행이 된다.

### 과정

1. 사이트 접속
2. 서버에서 인덱스 파일을 받아 온다. (이 때는 컨텐츠가 없는 상태라 빈 화면으로 보인다.)
3. html 파일에 링크 되어 있는 웹사이트에 필요한 모든 로직이 담겨 있는 자바스크립트 파일을 요청한다.
4. 동적으로 html 요소를 생성할 수 있는 웹 어플리케이션 로직(`angular`, `react`, `vue`와 같은 것들)이 담긴 자바스크립트 파일을 가져온다. => **TTV, TTI**

### 장점

- 첫 로딩에 HTML과 static파일들만 다 받으면, 동적으로 빠르게 Rendering하기 때문에 사용자 UX가 뛰어나다.
- 서버에 요청하는 횟수가 훨씬 적기 때문에 서버 부담이 덜하다.

### 단점

- 모든 HTML과 static파일이 로드될 때까지 기다려야 한다.(리소스를 Chunk(청크) 단위로 묶어서 요청할 때만 다운받에 하는 방식으로 완화시킬 수는 있지만 해결할 수는 없다.)
- SEO(검색엔진 최적화) 문제가 발생할 수 있다.(검색엔진이 크롤링을 하는데 어려움을 겪기 때문에, 구글 검색엔진은 javascript까지 크롤링을 하지만 다른 검색엔진의 경우 그렇지 않다.)

# SSR

사이트에 접속하면 SSR은 데이터까지 전부 삽입이 된 HTML을 넘겨준다

### 과정

1. 사이트 접속
2. 서버에서 이미 잘 만들어진 인덱스 파일을 받아온다. => **TTV**
3. 자바스크립트 파일을 서버에서 받아온다.
4. **TTI**

### 장점

- 초기 로딩 속도가 빠르기 때문에 사용자가 컨텐츠를 빨리 볼 수 있다.
- 모든 검색엔진에 대한 SEO(검색엔진 최적화)가 가능하다.

### 단점

- 매번 페이지를 요청할 때마다 새로고침 되기 때문에 사용자 UX가 다소 떨어진다.
- 서버에 매번 요청을 하기 때문에 트래픽, 서버 부하가 커진다.

## SPA

서버로부터 처음 페이지만 받아오고 이후에는 동적으로 페이지를 구성해서 새로운 페이지를 받아오지 않는 웹 어플리케이션을 뜻한다.

## MPA

서버로부터 완전한 페이지를 받아오고 이후에 데이터를 수정하고 조회할 때, 다른 완전한 페이지로 이동한다. (URL이 바뀔 수 있다.)

## 그럼 SPA랑 CSR이 같은건가? 🤔

아니다.  SPA는 서버로부터 처음 페이지만 받아오고 이후에는 동적으로 DOM을 구성하여 렌더링 되는 화면이 바뀌게 한다. 여기서 "동적으로 DOM을 구성하여 렌더링 되는 화면이 바뀌게 한다" 이 부분이 CSR이다.

쉽게 말하자면 SPA는 처음에만 페이지를 받아오고 이후에는 받아오지 않는데 이럼에도 데이터가 수정되고 조회되게 하고 싶어서 CSR이란 **방식**을 채택한 것이다.

반대로 MPA는 동적이지 않은 페이지를 상황에 맞게 클라이언트에 뿌려주기 때문에 SSR 방식을 채택한 것이다.
